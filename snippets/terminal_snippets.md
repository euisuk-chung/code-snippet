# Terminal snippets

- `top` 명령어로 CPU나 메모리 사용량 확인하기
```bash
top
```
`top` 명령어는 현재 시스템에서 실행 중인 프로세스들의 정보와 CPU나 메모리 사용량을 실시간으로 확인할 수 있게 해줍니다.

- `top` 명령어의 갱신 주기 바꾸기
```bash
top -d 초
```
`top` 명령어의 `-d` 옵션을 사용하면 갱신 주기를 조절할 수 있습니다. 위의 예시에서는 `top -d 1`을 입력하면 매 1초마다 갱신됩니다.

- `cron` 명령어로 주기적으로 반복 실행할 작업 등록하기
```bash
crontab -e # 현재 사용자의 크론 계획표 수정하기
crontab -l # 현재 사용자의 크론 계획표 보기
crontab -r # 현재 사용자의 크론 계획표 삭제하기
```
`cron` 명령어는 리눅스에서 주기적으로 반복 실행할 작업을 등록하는 데 사용됩니다. `crontab -e`를 입력하면 현재 사용자의 크론 계획표를 수정할 수 있습니다. `crontab -l`을 입력하면 현재 사용자의 크론 계획표를 볼 수 있습니다. `crontab -r`을 입력하면 현재 사용자의 크론 계획표를 삭제할 수 있습니다.

- `cron` 명령어로 등록한 작업의 형식
```bash
분 시 일 월 요일 수행할_명령어 # 예: * * * * * /root/every_1min.sh -> 매 1분마다 /root/every_1min.sh 를 수행
```
`cron` 명령어로 등록한 작업은 위와 같은 형식으로 작성됩니다. 각각의 필드는 분, 시, 일, 월, 요일 순서대로 작성되며, 마지막에는 수행할 명령어가 작성됩니다. 위의 예시에서는 매 1분마다 `/root/every_1min.sh` 스크립트가 실행됩니다.

- `watch` 명령어로 특정 명령어를 주기적으로 반복 실행하기
```bash
watch -n 초 수행할_명령어 # 예: watch -n 5 date -> 매 5초마다 date 명령어를 수행하여 현재 시간을 출력함.
```
`watch` 명령어는 특정 명령어를 주기적으로 반복 실행하는 데 사용됩니다. `-n` 옵션을 사용하여 반복 주기를 조절할 수 있습니다. 위의 예시에서는 `watch -n 5 date`를 입력하면 매 5초마다 `date` 명령어가 실행되어 현재 시간이 출력됩니다.

### 폴더 권한 설정
- 폴더에 대한 권한 설정(`chmod`)은 해당 폴더에 접근할 수 있는 권한을 조정합니다.
- 예를 들어, 폴더에 실행(`x`) 권한이 없다면, 사용자는 그 폴더 내의 어떤 파일도 실행할 수 없습니다.

### 파일 권한 설정
- 각 파일에 대한 권한은 파일마다 별도로 설정됩니다.
- 예를 들어, 폴더 내의 `sh`나 `py` 파일에 실행 권한을 부여하려면, 각 파일에 대해 `chmod +x` 명령을 실행해야 합니다.

### 권한 일괄 적용
- 폴더 내의 모든 파일에 대해 일괄적으로 권한을 설정하고 싶다면, `chmod` 명령과 함께 와일드카드(`*`)를 사용할 수 있습니다.
- 예를 들어, 폴더 내의 모든 `sh` 파일에 실행 권한을 부여하려면 다음과 같이 할 수 있습니다:
  ```bash
  chmod +x *.sh
  ```
- 폴더와 그 하위의 모든 파일 및 하위 폴더에 대해 재귀적으로 권한을 적용하려면 `-R` 옵션을 사용합니다:
  ```bash
  chmod -R +x /path/to/folder
  ```

- Mount NAS001
  ```bash
  # 연결 정보 확인
  # df -h

  # Debian/Ubuntu 기반 시스템
  sudo apt-get install nfs-common

  # 연결할 폴더 만들기
  sudo mkdir -p /nas001

  # Make connection
  sudo mount {NEED_IP_ADDR}:/volume2/nas001 /nas001
  ```

- kill 파이썬 세션
  ```bash
  pkill python
  ```
  - pkill python 명령어를 사용하여 "python"이라는 이름을 가진 모든 파이썬 프로세스를 종료합니다. 이 명령어는 실행 중인 모든 파이썬 프로세스를 종료합니다.
  - pkill -f script.py 명령어를 사용하여 "script.py"라는 이름을 가진 파이썬 스크립트를 실행 중인 프로세스를 종료합니다. 이 명령어는 실행 중인 "script.py" 파일을 종료합니다.

- 기타 주요 프로세스
  ```
  # ps: 현재 실행 중인 프로세스 목록을 보여줍니다.
  - ps aux: 모든 사용자의 프로세스를 자세히 보여줍니다.
  - ps -ef: 프로세스 계층 구조를 트리 형태로 보여줍니다.
  - top: 실시간으로 시스템의 프로세스 상태를 모니터링합니다. CPU, 메모리, 프로세스 등의 정보를 제공합니다. q를 눌러 종료할 수 있습니다.

  # kill: 특정 프로세스를 종료합니다.
  - kill <PID>: 특정 PID의 프로세스를 종료합니다.
  - killall <프로세스명>: 특정 프로세스명을 가진 모든 프로세스를 종료합니다.

  # nohup: 프로세스를 백그라운드에서 실행하고 터미널 세션이 종료되어도 계속 실행되도록 합니다.
  - nohup <명령어> &: 명령어를 백그라운드에서 실행합니다. 출력은 nohup.out 파일에 저장됩니다.

  # bg와 fg: 프로세스를 백그라운드로 보내거나 포그라운드로 가져옵니다.
  - bg <작업번호>: 현재 실행 중인 작업을 백그라운드로 보냅니다.
  - fg <작업번호>: 백그라운드로 보낸 작업을 포그라운드로 가져옵니다.

  # jobs: 현재 실행 중인 작업 목록을 보여줍니다.

  # screen: 가상 터미널 세션을 생성하고 여러 작업을 동시에 실행하고 관리할 수 있습니다.
